<!DOCTYPE html>
<html lang="fr">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Portugal - Mes lieux</title>
   <meta name="description" content="Cartographie de mes lieux visités">
   <link rel="stylesheet" href="/css/style.css">
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
   <meta property="og:locale" content="fr_FR" />
   <meta property="og:site_name" content="Portugal | Mes lieux">
   <meta property="og:image" content="/cover.jpg"/>
   <meta property="og:description" content="" />
   <meta property="og:url" content="/voyages/portugal/">
   <meta name="fediverse:creator" content="@timothee@mastodon.design" />
   <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
   <script src="/assets/script.js"></script>
</head>
<body>
   <header>
   <div class="container">
      <nav>
         <ul>
            <li><a class="nav-desktop-item" href="/">Carte</a></li>
            <li><a class="nav-desktop-item" href="/voyages.html">Voyages</a></li>
         </ul>
      </nav>
   </div>
</header>
<nav class="nav-mobile">
   <ul>
      <li>
         <a class="nav-mobile-item" href="/">
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 14.499C19.7911 14.499 20.5649 14.7333 21.2227 15.1729C21.8804 15.6124 22.3926 16.2379 22.6953 16.9688C22.998 17.6996 23.0772 18.5044 22.9229 19.2803C22.7685 20.0555 22.387 20.7671 21.8281 21.3262C21.432 21.7234 20.6934 22.3762 19.6465 23.2627C19.2753 23.5771 18.7315 23.5787 18.3584 23.2666C17.3603 22.4308 16.6229 21.7802 16.1709 21.3271V21.3262C15.6123 20.7672 15.2315 20.0553 15.0771 19.2803C14.9228 18.5044 15.002 17.6996 15.3047 16.9688C15.6074 16.2379 16.1196 15.6124 16.7773 15.1729C17.4351 14.7333 18.2089 14.499 19 14.499ZM9.03613 3.50098C9.04754 3.50139 9.05892 3.50213 9.07031 3.50293C9.09369 3.50455 9.11674 3.50754 9.13965 3.51074C9.15105 3.51235 9.16248 3.51363 9.17383 3.51562C9.19292 3.51897 9.21177 3.52293 9.23047 3.52734C9.24421 3.5306 9.25786 3.53424 9.27148 3.53809C9.29429 3.54451 9.31675 3.5516 9.33887 3.55957C9.34632 3.56225 9.35393 3.56452 9.36133 3.56738C9.38369 3.57605 9.4052 3.58648 9.42676 3.59668C9.43347 3.59985 9.44061 3.60214 9.44727 3.60547L15 6.38184L20.5527 3.60547C20.8626 3.45052 21.2306 3.46734 21.5254 3.64941C21.8202 3.83162 22 4.15343 22 4.5V12C22 12.5523 21.5523 13 21 13C20.4477 13 20 12.5523 20 12V6.11816L16 8.11816V13C16 13.5523 15.5523 14 15 14C14.4477 14 14 13.5523 14 13V8.11816L10 6.11816V16.8818L12.4473 18.1055C12.9412 18.3525 13.1415 18.9533 12.8945 19.4473C12.6475 19.9412 12.0467 20.1415 11.5527 19.8945L9 18.6182L3.44727 21.3945C3.13735 21.5495 2.76939 21.5327 2.47461 21.3506C2.17979 21.1684 2 20.8466 2 20.5V7.5L2.00977 7.35938C2.05546 7.03719 2.25641 6.75363 2.55273 6.60547L8.55273 3.60547L8.56934 3.59766C8.59609 3.58486 8.62336 3.57292 8.65137 3.5625L8.66016 3.55957C8.66432 3.55807 8.66867 3.55711 8.67285 3.55566C8.69661 3.54744 8.72059 3.53965 8.74512 3.5332C8.75291 3.53115 8.76072 3.52921 8.76855 3.52734C8.79199 3.52179 8.8158 3.51755 8.83984 3.51367C8.84867 3.51224 8.85736 3.50999 8.86621 3.50879C8.88875 3.50578 8.91158 3.50442 8.93457 3.50293C8.94824 3.50203 8.96189 3.50132 8.97559 3.50098C8.98371 3.50078 8.99183 3.5 9 3.5C9.0121 3.5 9.02414 3.50055 9.03613 3.50098ZM19 16.499C18.6045 16.499 18.2175 16.6162 17.8887 16.8359C17.56 17.0556 17.3037 17.3682 17.1523 17.7334C17.001 18.0988 16.961 18.5018 17.0381 18.8896C17.1153 19.2774 17.3064 19.6335 17.5859 19.9131L17.5869 19.9141C17.881 20.2089 18.3474 20.6313 18.9961 21.1865C19.689 20.5905 20.1576 20.1702 20.4131 19.9141L20.4141 19.9131C20.6936 19.6335 20.8847 19.2774 20.9619 18.8896C21.039 18.5018 20.999 18.0988 20.8477 17.7334C20.6963 17.3682 20.44 17.0556 20.1113 16.8359C19.7825 16.6162 19.3955 16.499 19 16.499ZM19 17.5C19.5523 17.5 20 17.9477 20 18.5V18.5098C20 19.0621 19.5523 19.5098 19 19.5098C18.4477 19.5098 18 19.0621 18 18.5098V18.5C18 17.9477 18.4477 17.5 19 17.5ZM4 8.11816V18.8818L8 16.8818V6.11816L4 8.11816Z" fill=""/></svg>
            <span>Carte</span>
         </a>
      </li>
      <li>
         <a class="nav-mobile-item" href="/voyages.html">
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 2.5C13.7956 2.5 14.5585 2.8163 15.1211 3.37891C15.6837 3.94152 16 4.70435 16 5.5C16.7956 5.5 17.5585 5.8163 18.1211 6.37891C18.6837 6.94152 19 7.70435 19 8.5V18.5C19 19.2957 18.6837 20.0585 18.1211 20.6211C17.5585 21.1837 16.7957 21.5 16 21.5C16 22.0523 15.5523 22.5 15 22.5C14.4477 22.5 14 22.0523 14 21.5H10C10 22.0523 9.55228 22.5 9 22.5C8.44772 22.5 8 22.0523 8 21.5C7.20435 21.5 6.44152 21.1837 5.87891 20.6211C5.3163 20.0585 5 19.2956 5 18.5V8.5C5 7.70435 5.3163 6.94152 5.87891 6.37891C6.44152 5.8163 7.20435 5.5 8 5.5C8 4.70435 8.3163 3.94152 8.87891 3.37891C9.44152 2.8163 10.2044 2.5 11 2.5H13ZM7 18.5L7.00488 18.5986C7.02757 18.8276 7.12883 19.0429 7.29297 19.207C7.48051 19.3946 7.73478 19.5 8 19.5H16C16.2652 19.5 16.5195 19.3946 16.707 19.207C16.8946 19.0195 17 18.7652 17 18.5V17.5H7V18.5ZM7 15.5H17V11.5H7V15.5ZM8 7.5C7.73478 7.5 7.48051 7.60543 7.29297 7.79297C7.10543 7.98051 7 8.23478 7 8.5V9.5H17V8.5C17 8.23478 16.8946 7.98051 16.707 7.79297C16.5429 7.62883 16.3276 7.52757 16.0986 7.50488L16 7.5H8ZM11 4.5C10.7348 4.5 10.4805 4.60543 10.293 4.79297C10.1054 4.98051 10 5.23478 10 5.5H14C14 5.23478 13.8946 4.98051 13.707 4.79297C13.5429 4.62883 13.3276 4.52757 13.0986 4.50488L13 4.5H11Z" fill=""/></svg>
            <span>Voyages</span>
         </a>
      </li>
   </ul>
</nav>

<main>
   <section class="container flex post-header">
      <div class="post-header-content">
         <h1>Portugal</h1>
         
            <p class="post-review-comment">Un voyage marqué par une première escale de 3 jours à Lisbonne, avant de partir dans le sud. Si l'ensemble du Portugal m'a plu, j'ai été conquis par Lisbonne qui offre, pour une capitale, un air à la fois urbain et océanique ainsi que de très belles mosaïques. Il y fait bon vivre !</p>
         
      </div>
   </section>

   <section class="container">
      <ul class="travel-list-places sort-by-alphabetical">
         

         

         

         
            <li><a href="/places/a-tasca/">A Tasca</a></li>
         
            <li><a href="/places/barbica/">Barbica</a></li>
         
            <li><a href="/places/batz/">Batz</a></li>
         
            <li><a href="/places/cap-saint-vincent/">Cap Saint-Vincent</a></li>
         
            <li><a href="/places/faaron-steakhouse/">Faaron Steakhouse</a></li>
         
            <li><a href="/places/jardim-da-cerca-da-graca/">Jardim da Cerca da Graca</a></li>
         
            <li><a href="/places/miradouro-do-vale-suspenso/">Miradouro do Vale Suspenso</a></li>
         
            <li><a href="/places/myomeu/">Myomeu</a></li>
         
            <li><a href="/places/planto/">Planto</a></li>
         
            <li><a href="/places/ponta-de-piedade/">Ponta de Piedade</a></li>
         
            <li><a href="/places/praia-de-sao-roque/">Praia de São Roque</a></li>
         
            <li><a href="/places/r-25-de-abril-78/">R. 25 de Abril 78</a></li>
         
            <li><a href="/places/taberna-da-mo/">Taberna da mó</a></li>
         
            <li><a href="/places/tour-de-belem/">Tour de Belém</a></li>
         
            <li><a href="/places/vila-adentro/">Vila Adentro</a></li>
         
            <li><a href="/places/the-mill/">the mill</a></li>
         
      </ul>
   </section>

   <section class="container voyage">
      <div id="voyage-map" style="height: 500px; margin-bottom: 2rem;"></div>
   </section>
</main>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // === 1. Initialisation de la carte ===
  const map = L.map('voyage-map').setView([46.603354, 1.888334], 5);

  // === 2. Définition des fonds de carte clair / sombre ===
  const lightTiles = L.tileLayer(
    'https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png?api_key=cbccb69c-bd70-401f-a8ce-ade95addcf4d',
    {
      maxZoom: 20,
      attribution:
        '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, ' +
        '&copy; <a href="https://openmaptiles.org/">OpenMapTiles</a>, ' +
        '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }
  );

  const darkTiles = L.tileLayer(
    'https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=cbccb69c-bd70-401f-a8ce-ade95addcf4d',
    {
      maxZoom: 20,
      attribution:
        '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, ' +
        '&copy; <a href="https://openmaptiles.org/">OpenMapTiles</a>, ' +
        '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }
  );

  // === 3. Définition des icônes SVG ===
  const lightPinSVG = `
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="42" viewBox="0 0 30 42">
      <path d="M15 0C6.7 0 0 6.7 0 15c0 11.3 15 27 15 27s15-15.7 15-27C30 6.7 23.3 0 15 0z" fill="#202020"/>
      <circle cx="15" cy="15" r="6" fill="#fff"/>
    </svg>
  `;

  const darkPinSVG = `
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="42" viewBox="0 0 30 42">
      <path d="M15 0C6.7 0 0 6.7 0 15c0 11.3 15 27 15 27s15-15.7 15-27C30 6.7 23.3 0 15 0z" fill="#fff"/>
      <circle cx="15" cy="15" r="6" fill="#202020"/>
    </svg>
  `;

  function getPinIcon(isDark) {
    return L.divIcon({
      className: "custom-svg-pin",
      html: isDark ? darkPinSVG : lightPinSVG,
      iconSize: [30, 42],
      iconAnchor: [15, 42],
      popupAnchor: [0, -42]
    });
  }

  // === 4. Détermination du thème courant ===
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");
  let isDark = prefersDark.matches;

  let currentTiles = isDark ? darkTiles : lightTiles;
  currentTiles.addTo(map);

  // === 5. Données Jekyll des lieux ===
  const voyagePlaces = [
    
      
      
      {
        title: "A Tasca",
        lat: 37.010427,
        lon: -8.931091,
        url: "/places/a-tasca/",
        image: "/images/a-tasca.jpg",
        description: "Restaurant à la cuisine portugaise traditionnelle, c’était excellent ! Service au top et une vue mer à couper le souffle !",
        tags: ["restaurant", "poisson", "terrasse", "vue-mer", "vue"],
      },
      
    
      
      
      {
        title: "Barbica",
        lat: 38.7090213,
        lon: -9.146759099999999,
        url: "/places/barbica/",
        
        description: "Superbe terrasse au calme. La bouffe est bonne ! Petit moment posé 👌🏻.",
        tags: ["restaurant", "brasserie", "terrasse"],
      },
      
    
      
      
      {
        title: "Batz",
        lat: 38.710866,
        lon: -9.149505,
        url: "/places/batz/",
        
        description: "Menu express à 6,50€ pour un petit déjeuner. Fait maison, c’est très sympa !",
        tags: ["restaurant", "brunch", "terrasse"],
      },
      
    
      
      
      {
        title: "Cap Saint-Vincent",
        lat: 37.02265494420783,
        lon: -8.99652734398842,
        url: "/places/cap-saint-vincent/",
        image: "/images/cap-saint-vincent.jpg",
        description: "Le point le plus à l&#39;ouest de l&#39;Europe. Ce lieu offre une vue à 180° à couper le souffle sur l&#39;océan Atlantique. On se sent petit face à cette étendue. Le bout du monde en quelque sorte…",
        tags: ["vue", "vue-mer"],
      },
      
    
      
      
      {
        title: "Faaron Steakhouse",
        lat: 37.016299,
        lon: -7.934237,
        url: "/places/faaron-steakhouse/",
        
        description: "Terrasse bien sympa pour prendre un verre ! Les plats ont l’air bon. Super service !",
        tags: ["bar", "restaurant", "viande", "terrasse"],
      },
      
    
      
      
      {
        title: "Jardim da Cerca da Graca",
        lat: 38.71722000506213,
        lon: -9.131807237863542,
        url: "/places/jardim-da-cerca-da-graca/",
        image: "/images/jardim-da-cerca-da-graca.jpg",
        description: "Un jardin dans le cœur de Lisbonne qui donne une vue en hauteur sur la ville.",
        tags: ["parc", "touristique"],
      },
      
    
      
      
      {
        title: "Miradouro do Vale Suspenso",
        lat: 37.08821,
        lon: -8.44992,
        url: "/places/miradouro-do-vale-suspenso/",
        image: "/images/miradouro-do-vale-suspenso.jpg",
        description: "Cette randonnée le long des falaises offre des vues somptuseuses sur l&#39;océan. Il faut simplement prévoir de bonnes baskets. Ce n&#39;est pas nécéssaire d&#39;avoir un bon niveau.",
        tags: ["touristique", "vue", "vue-mer"],
      },
      
    
      
      
      {
        title: "Myomeu",
        lat: 37.0157733,
        lon: -7.933498,
        url: "/places/myomeu/",
        
        description: "À défaut d’avoir pu manger portugais ce soir là, ce restaurant polonais est très bon !",
        tags: ["restaurant", "terrasse"],
      },
      
    
      
      
      {
        title: "Planto",
        lat: 38.70878,
        lon: -9.14896,
        url: "/places/planto/",
        image: "/images/planto.jpg",
        description: "Coup de cœur pour ce restaurant qui venait à peine d&#39;ouvrir. Très belle décoration, les plats sont succulents et sont très bien présentés. Ce restaurant est la version plus accessible d&#39;un autre Planto qui lui, est étoilé.",
        tags: ["restaurant", "bistronomique", "terrasse"],
      },
      
    
      
      
      {
        title: "Ponta de Piedade",
        lat: 37.079538882335626,
        lon: -8.668621927499773,
        url: "/places/ponta-de-piedade/",
        image: "/images/ponta-de-piedade.jpg",
        description: "Une balade en bateau permet d&#39;accéder à cette côte. Entre eau turquoise, falaise et grotte, difficile de rester insensible à cette nature sauvage !",
        tags: ["touristique", "vue", "vue-mer"],
      },
      
    
      
      
      {
        title: "Praia de São Roque",
        lat: 37.10502658755344,
        lon: -8.66564601659775,
        url: "/places/praia-de-sao-roque/",
        image: "/images/praia-de-sao-roque.jpg",
        description: "Une grande plage face à l&#39;océan. Idéal pour prendre un apéro, les pieds dans le sable, avec le coucher de soleil.",
        tags: ["plage", "vue", "vue-mer"],
      },
      
    
      
      
      {
        title: "R. 25 de Abril 78",
        lat: 37.10079574584961,
        lon: -8.671623229980469,
        url: "/places/r-25-de-abril-78/",
        
        description: "Les poulets sont bons. Petite terrasse dans une rue animée, fort sympa !",
        tags: ["restaurant", "terrasse"],
      },
      
    
      
      
      {
        title: "Taberna da mó",
        lat: 37.10042,
        lon: -8.67152,
        url: "/places/taberna-da-mo/",
        
        description: "Les tapas sont délicieux, le thon est dingue ! Très bonne adresse.",
        tags: ["restaurant", "tapas", "sur-le-pouce", "terrasse"],
      },
      
    
      
      
      {
        title: "Tour de Belém",
        lat: 38.693031824873074,
        lon: -9.208979755640032,
        url: "/places/tour-de-belem/",
        image: "/images/tour-de-belem.jpg",
        description: "Que dire sur cette emblème portuguais ?! C&#39;est à faire !",
        tags: ["touristique", "vue", "vue-mer"],
      },
      
    
      
      
      {
        title: "the mill",
        lat: 38.7107833,
        lon: -9.1498186,
        url: "/places/the-mill/",
        
        description: "Simple mais efficace. Le bagel breakfast est franchement bon ! À refaire.",
        tags: ["restaurant", "brunch"],
      },
      
    
      
      
      {
        title: "Vila Adentro",
        lat: 37.0129872,
        lon: -7.9343757,
        url: "/places/vila-adentro/",
        
        
        tags: ["à-essayer", "restaurant", "terrasse"],
      }
      
    
  ];

  // === 6. Ajout des marqueurs ===
  let markers = [];

  voyagePlaces.forEach(place => {
    const popupContent = `
      <div class="popup-content">
        <h3><a href="${place.url}">${place.title}</a></h3>
        ${place.image ? `<img src="${place.image}" alt="${place.title}" style="height: 150px; object-fit: cover;">` : ''}
        ${place.description ? `<p>${place.description}</p>` : ''}
        ${place.tags && place.tags.length > 0 ? `<div class="tags">${place.tags.map(tag => `<span class="tag">${tag}</span>`).join(' ')}</div>` : ''}
      </div>
    `;

    const marker = L.marker([place.lat, place.lon], { icon: getPinIcon(isDark) })
      .addTo(map)
      .bindPopup(popupContent);

    markers.push(marker);
  });

  if (markers.length > 0) {
    const group = new L.featureGroup(markers);
    map.fitBounds(group.getBounds().pad(0.1));
  }

  // === 7. Écoute du changement de thème ===
  prefersDark.addEventListener("change", (e) => {
    isDark = e.matches;

    // mise à jour du fond
    map.removeLayer(currentTiles);
    currentTiles = isDark ? darkTiles : lightTiles;
    currentTiles.addTo(map);

    // mise à jour des icônes
    markers.forEach(marker => marker.setIcon(getPinIcon(isDark)));
  });
});
</script>

    <footer id="footer" class="container">
        <div class="divider"></div>
        <section>
            <span class="h2">Une remarque ?<br>Un simple bonjour ?</span>
            <h2 class="color-text-secondary">Contact</h2>

            <button id="footer-btn" class="btn btn-primary" onclick="mailTo()">Envoyer un message</button>
        </section>
        
        <section class="footer-about">
            <section class="flex">
                  <div class="flex-width-1">
                     <h4>Timothée Julien</h4>
                     <p>Product designer (UX/UI) indépendant, évoluant à Paris.</p>
                     <ul class="footer-nav">
                        <li><a href="https://timotheejulien.fr" target="_blank">Portfolio</a>
                        <li><a href="https://timotheejulien.fr/blog" target="_blank">Blog</a>
                        <li><a href="https://bloc-notes.timotheejulien.fr" target="_blank">Bloc-notes (veille)</a></li>
                     </ul>
                  </div>
                  <div class="flex-width-1">
                        <h4>À propos de ce projet</h4>
                        <p>Il s'agit d'un projet open-source. Si vous souhaitez me faire part d'une erreur ou suggérer une amélioration, ce projet est disponible sur <a href="https://github.com/timotheejulien/lieux/" target="_blank">Github</a>.</p>
                  </div>
                  <div class="flex-width-1">
                     <h4>Mes réseaux</h4>
                     <ul class="footer-nav">
                        <li><a href="https://signal.me/#eu/YdauWLl23RV8Aqjkp6jgr7u-hcWB2dPTHfaZNITV6FCIa2ioQYxAdIjgxgEHd5d0" target="_blank">Signal</a>
                        <li><a href="https://www.linkedin.com/in/timotheejulien/" target="_blank">Linkedin</a></li>
                        <li><a href="https://mastodon.design/@timothee" target="_blank" rel="me">Mastodon</a></li>
                     </ul>
                </div>
            </section>
        
            <section class="footer-legals">
                <p>© 2024-2025 ・ <a href="https://timotheejulien.fr/politique-de-confidentialite">Politique de confidentialité</a> ・ <a href="https://timotheejulien.fr/mentions-legales">Mentions légales</a></p>
            </section>
        </section>

    </footer>
</body>
</html>
</body>
</html>